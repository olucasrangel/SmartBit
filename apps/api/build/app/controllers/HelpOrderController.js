'use strict';const a4_0x364c64=a4_0x3ccb;(function(_0x4d73a2,_0x40718f){const _0x471d3f=a4_0x3ccb,_0x5014d7=_0x4d73a2();while(!![]){try{const _0x135992=-parseInt(_0x471d3f(0x175))/0x1*(-parseInt(_0x471d3f(0x169))/0x2)+-parseInt(_0x471d3f(0x163))/0x3+parseInt(_0x471d3f(0x174))/0x4*(-parseInt(_0x471d3f(0x168))/0x5)+parseInt(_0x471d3f(0x173))/0x6+-parseInt(_0x471d3f(0x16b))/0x7+-parseInt(_0x471d3f(0x166))/0x8*(-parseInt(_0x471d3f(0x17c))/0x9)+-parseInt(_0x471d3f(0x16c))/0xa;if(_0x135992===_0x40718f)break;else _0x5014d7['push'](_0x5014d7['shift']());}catch(_0xff21ac){_0x5014d7['push'](_0x5014d7['shift']());}}}(a4_0x461c,0xacf9a));function _interopRequireDefault(_0x3f5900){return _0x3f5900&&_0x3f5900['__esModule']?_0x3f5900:{'default':_0x3f5900};}function a4_0x3ccb(_0xf37689,_0x25b962){const _0x461c68=a4_0x461c();return a4_0x3ccb=function(_0x3ccb0c,_0x1fca72){_0x3ccb0c=_0x3ccb0c-0x15e;let _0x43ba24=_0x461c68[_0x3ccb0c];return _0x43ba24;},a4_0x3ccb(_0xf37689,_0x25b962);}Object[a4_0x364c64(0x176)](exports,a4_0x364c64(0x160),{'value':!![]});var _Student=require('../models/Student'),_Student2=_interopRequireDefault(_Student),_HelpOrder=require(a4_0x364c64(0x15f)),_HelpOrder2=_interopRequireDefault(_HelpOrder);class HelpOrderController{async['index'](_0x87870f,_0x4a8c8b){const _0x22e6b9=a4_0x364c64,_0x6d870b=parseInt(_0x87870f['query']['page']||0x1,0xa),_0x4dd62b=parseInt(_0x87870f[_0x22e6b9(0x167)][_0x22e6b9(0x16a)]||0x5,0xa),_0x278c8f=await _Student2['default'][_0x22e6b9(0x171)](_0x87870f[_0x22e6b9(0x15e)]['id']);if(!_0x278c8f)return _0x4a8c8b[_0x22e6b9(0x178)](0x190)['json']({'error':_0x22e6b9(0x17b)});const _0x4705d8=await _HelpOrder2[_0x22e6b9(0x165)]['findAndCountAll']({'order':[[_0x22e6b9(0x172),'DESC']],'where':{'student_id':_0x87870f[_0x22e6b9(0x15e)]['id']},'limit':_0x4dd62b,'offset':(_0x6d870b-0x1)*_0x4dd62b,'include':[{'model':_Student2[_0x22e6b9(0x165)],'as':_0x22e6b9(0x16d),'attributes':['id',_0x22e6b9(0x170)]}]}),_0x546eca=Math[_0x22e6b9(0x16e)](_0x4705d8[_0x22e6b9(0x161)]/_0x4dd62b);return _0x4a8c8b[_0x22e6b9(0x16f)]({'page':_0x6d870b,'perPage':_0x4dd62b,'data':_0x4705d8[_0x22e6b9(0x17a)],'total':_0x4705d8['count'],'totalPage':_0x546eca});}async[a4_0x364c64(0x162)](_0x48608a,_0x393fd8){const _0x48a566=a4_0x364c64,_0x5a9d3a=await _Student2[_0x48a566(0x165)][_0x48a566(0x171)](_0x48608a[_0x48a566(0x15e)]['id']);if(!_0x5a9d3a)return _0x393fd8['status'](0x190)['json']({'error':_0x48a566(0x17b)});const _0x1e26e1=await _HelpOrder2[_0x48a566(0x165)][_0x48a566(0x179)]({..._0x48608a[_0x48a566(0x177)],'student_id':_0x48608a[_0x48a566(0x15e)]['id']}),_0xd747d4=await _0x1e26e1['reload']({'include':[{'model':_Student2['default'],'as':_0x48a566(0x16d),'attributes':['id','name']}]});return _0x48608a['io'][_0x48a566(0x164)]('HELP_ORDER_CREATE_NOTIFICATION',_0xd747d4),_0x393fd8[_0x48a566(0x178)](0xc9)[_0x48a566(0x16f)](_0xd747d4);}}exports[a4_0x364c64(0x165)]=new HelpOrderController();function a4_0x461c(){const _0x455038=['created_at','1013922zRnFlq','20zMeyiX','360851EQzITr','defineProperty','body','status','create','rows','Student\x20not\x20found','63DWzGyx','params','../models/HelpOrder','__esModule','count','store','834492YZceJA','emit','default','1377448camgxD','query','6515GOTofE','4UfFOka','perPage','5058774NEZCLr','3800890vIZTHD','student','ceil','json','name','findByPk'];a4_0x461c=function(){return _0x455038;};return a4_0x461c();}